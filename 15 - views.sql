
CREATE TABLE TB_TESTE
(
	Nome VARCHAR(50) NULL,
	Fone VARCHAR(30) NULL
);

INSERT INTO TB_TESTE (Nome)
VALUES ('JOSÉ'),('MARIA'),('JOÃO')

ALTER VIEW VIEW_TESTE
WITH ENCRYPTION
AS
SELECT Nome, Fone FROM TB_TESTE
WHERE FONE IS NULL
WITH CHECK OPTION -- CHECA SE É NULL

SELECT * FROM VIEW_TESTE

INSERT INTO VIEW_TESTE (Nome, Fone)
VALUES ('ZARO', NULL)


-- WITH ENCRYPTION

CREATE VIEW VIEW_PED1 WITH ENCRYPTION
AS
SELECT  P.NumeroPedido,
		P.DataPedido,
		F.NomeCompleto
	FROM TB_PEDIDO P
JOIN TB_FUNCIONARIO F
	ON P.FuncionarioId = F.FuncionarioId

SELECT * FROM VIEW_PED1 

-- ALTER VIEW

ALTER VIEW VIEW_PED1 WITH ENCRYPTION
AS
SELECT  P.NumeroPedido,
		P.DataPedido,
		F.NomeCompleto
	FROM TB_PEDIDO P
JOIN TB_FUNCIONARIO F
	ON P.FuncionarioId = F.FuncionarioId

















